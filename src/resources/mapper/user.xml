<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">
  <select id="select" parameterType="map">
    select * from photo_board
  </select>
  
  <insert id="insertFile" parameterType="int">
  	insert into photo_board(
  	pb_num,
  	pb_title,
  	pb_content,
  	pb_photo_name,
  	pb_photo_path,
  	credat,
  	cretim
  	)
  	values(
  	seq_pb_num.nextval,
  	'${pbTitle}',
  	'${pbContent}',
  	'${pbPhotoName}',
  	'${pbPhotoPath}',
  	TO_CHAR(SYSDATE, 'yyyymmdd') ,
  	TO_CHAR(SYSDATE, 'hh24miss') 
  	)
  </insert>
  <select id="selectPhotoBoardList" resultType="pb" parameterType="pb">
  	select * from (
SELECT ROWnum rcnt, pb.* from (
select * from photo_board
order by pb_num DESC) pb
where rownum&lt;=#{page.endNum})
where rcnt&gt;=#{page.startNum}
  </select>
  <select id="selectPhotoBoardCount" resultType="int">
  	select count(1) from photo_board
  </select>
</mapper>